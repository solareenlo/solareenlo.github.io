<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Gitとは #   プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システムのこと. 公式サイト: https://git-scm.com  gitの構成 #   作業ディレクトリ ステージングエリア（インデックス） リポジトリ（ローカル, リモート）  git補完 #  Reference: 「Git補完をしらない」「git statusを1日100回は使う」そんなあなたに朗報【git-completionとgit-prompt】
git-completion.bashをインストール #  git-completion.bash: gitコマンドの補完スクリプト. Tabで保管できる.
wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -O ~/.git-completion.bash chmod a+x ~/.git-completion.bash echo &#34;source ~/.git-completion.bash&#34; >> ~/.bashrc source ~/.bashrc git-prompt.shのインストール #  git-prompt.sh: プロンプトに各種追加情報を表示可能にするスクリプト.
wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -O ~/.git-prompt.sh chmod a+x ~/.git-prompt.sh 下記を一度にコピペしてエンターをして,
cat << EOF | tee -a ~/.bashrc > /dev/null source ~/.git-prompt.sh GIT_PS1_SHOWDIRTYSTATE=true GIT_PS1_SHOWSTASHSTATE=true GIT_PS1_SHOWUNTRACKEDFILES=true GIT_PS1_SHOWUPSTREAM=&#34;auto&#34; GIT_PS1_SHOWCOLORHINTS=true EOF 下記を実行する."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="Gitとは #   プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システムのこと. 公式サイト: https://git-scm.com  gitの構成 #   作業ディレクトリ ステージングエリア（インデックス） リポジトリ（ローカル, リモート）  git補完 #  Reference: 「Git補完をしらない」「git statusを1日100回は使う」そんなあなたに朗報【git-completionとgit-prompt】
git-completion.bashをインストール #  git-completion.bash: gitコマンドの補完スクリプト. Tabで保管できる.
wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -O ~/.git-completion.bash chmod a+x ~/.git-completion.bash echo &#34;source ~/.git-completion.bash&#34; >> ~/.bashrc source ~/.bashrc git-prompt.shのインストール #  git-prompt.sh: プロンプトに各種追加情報を表示可能にするスクリプト.
wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -O ~/.git-prompt.sh chmod a+x ~/.git-prompt.sh 下記を一度にコピペしてエンターをして,
cat << EOF | tee -a ~/.bashrc > /dev/null source ~/.git-prompt.sh GIT_PS1_SHOWDIRTYSTATE=true GIT_PS1_SHOWSTASHSTATE=true GIT_PS1_SHOWUNTRACKEDFILES=true GIT_PS1_SHOWUPSTREAM=&#34;auto&#34; GIT_PS1_SHOWCOLORHINTS=true EOF 下記を実行する."><meta property="og:type" content="article"><meta property="og:url" content="https://solareenlo.com/docs/programming/git/"><meta property="article:modified_time" content="2020-03-20T07:56:42+09:00"><title>Git | solareenlo</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.5fd4c733ba71281f6fa83dce8c0d3d21afd1db86f90669ccafc18721cb9a5a50.css integrity="sha256-X9THM7pxKB9vqD3OjA09Ia/R24b5BmnMr8GHIcuaWlA="><script defer src=/en.search.min.1d085cbfa729b68753e86f314e7408287f22af7ae6945b0ceeb379d0cd7c7775.js integrity="sha256-HQhcv6cptodT6G8xTnQIKH8ir3rmlFsM7rN50M18d3U="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>solareenlo</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/posts/>Blog</a></li></ul><ul><li><input type=checkbox id=section-57e58ca5aae968f4961a4036f314a5de class=toggle checked>
<label for=section-57e58ca5aae968f4961a4036f314a5de class="flex justify-between"><a href=https://solareenlo.com/docs/programming/>Programming</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/programming/command/>Command</a></li><li><a href=https://solareenlo.com/docs/programming/fonts/>Fonts</a></li><li><a href=https://solareenlo.com/docs/programming/git/ class=active>Git</a></li><li><a href=https://solareenlo.com/docs/programming/github/>Github</a></li><li><a href=https://solareenlo.com/docs/programming/linter-formatter/>Linter Formatter</a></li><li><a href=https://solareenlo.com/docs/programming/password-manager/>Password Manager</a></li><li><a href=https://solareenlo.com/docs/programming/sed/>Sed</a></li><li><a href=https://solareenlo.com/docs/programming/shell-script/>Shell Script</a></li><li><a href=https://solareenlo.com/docs/programming/terminal/>Terminal</a></li><li><a href=https://solareenlo.com/docs/programming/test/>Test</a></li><li><a href=https://solareenlo.com/docs/programming/tmux/>Tmux</a></li><li><a href=https://solareenlo.com/docs/programming/vim/>Vim</a></li><li><a href=https://solareenlo.com/docs/programming/vimium/>Vimium</a></li><li><a href=https://solareenlo.com/docs/programming/wiki/>Wiki</a></li><li><a href=https://solareenlo.com/docs/programming/hhkb/>HHKB</a></li></ul></li><li><input type=checkbox id=section-771d1b18af68e81cd9d3d14cd5f6339b class=toggle>
<label for=section-771d1b18af68e81cd9d3d14cd5f6339b class="flex justify-between"><a href=https://solareenlo.com/docs/pl/>Programming Language</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/pl/angular/>Angular</a></li><li><a href=https://solareenlo.com/docs/pl/c/>C</a></li><li><a href=https://solareenlo.com/docs/pl/css/>Css</a></li><li><a href=https://solareenlo.com/docs/pl/go/>Go</a></li><li><a href=https://solareenlo.com/docs/pl/haskell/>Haskell</a></li><li><a href=https://solareenlo.com/docs/pl/hugo/>Hugo</a></li><li><a href=https://solareenlo.com/docs/pl/javascript/>Javascript</a></li><li><a href=https://solareenlo.com/docs/pl/nodejs/>Nodejs</a></li><li><a href=https://solareenlo.com/docs/pl/pl-docs/>Pl Docs</a></li><li><a href=https://solareenlo.com/docs/pl/react-static/>React Static</a></li><li><a href=https://solareenlo.com/docs/pl/react/>React</a></li><li><a href=https://solareenlo.com/docs/pl/rust/>Rust</a></li><li><a href=https://solareenlo.com/docs/pl/scala/>Scala</a></li><li><a href=https://solareenlo.com/docs/pl/typescript/>Typescript</a></li><li><a href=https://solareenlo.com/docs/pl/npm/>npm</a></li></ul></li><li><input type=checkbox id=section-a7bf5468f483fd7222967f135a5003c0 class=toggle>
<label for=section-a7bf5468f483fd7222967f135a5003c0 class="flex justify-between"><a href=https://solareenlo.com/docs/latex/>LaTeX</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/latex/platex-book/>Platex Book</a></li><li><a href=https://solareenlo.com/docs/latex/zathura-install/>Zathura Install</a></li></ul></li><li><input type=checkbox id=section-e14f9767e53904cbbdcb3f0bdbe82f2a class=toggle>
<label for=section-e14f9767e53904cbbdcb3f0bdbe82f2a class="flex justify-between"><a href=https://solareenlo.com/docs/vps/>VPS</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/vps/alpine-linux/>Alpine Linux</a></li><li><a href=https://solareenlo.com/docs/vps/ubuntu/>Ubuntu</a></li><li><a href=https://solareenlo.com/docs/vps/ssh/>SSH</a></li></ul></li><li><input type=checkbox id=section-99a3d9d52cfe7a0dcbd55cd8c23e4462 class=toggle>
<label for=section-99a3d9d52cfe7a0dcbd55cd8c23e4462 class="flex justify-between"><a href=https://solareenlo.com/docs/db/>DB</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/db/redis/>Redis</a></li><li><a href=https://solareenlo.com/docs/db/mongodb/>MongoDB</a></li><li><a href=https://solareenlo.com/docs/db/mysql/>MySQL</a></li></ul></li><li><input type=checkbox id=section-e5a49337b6189bd60f0b5e1d3a4a8539 class=toggle>
<label for=section-e5a49337b6189bd60f0b5e1d3a4a8539 class="flex justify-between"><a href=https://solareenlo.com/docs/cloud/>Cloud</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/cloud/aws/>Aws</a></li><li><a href=https://solareenlo.com/docs/cloud/firebase/>Firebase</a></li><li><a href=https://solareenlo.com/docs/cloud/gcp/>Gcp</a></li><li><a href=https://solareenlo.com/docs/cloud/sendgrid/>Sendgrid</a></li><li><a href=https://solareenlo.com/docs/cloud/zeit-now/>Zeit Now</a></li></ul></li><li><input type=checkbox id=section-dfa5c6b6f5f2def7a1fbf289a7570ac2 class=toggle>
<label for=section-dfa5c6b6f5f2def7a1fbf289a7570ac2 class="flex justify-between"><a href=https://solareenlo.com/docs/ci-cd/>CI/CD</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/ci-cd/circleci/>Circleci</a></li><li><a href=https://solareenlo.com/docs/ci-cd/jenkins/>Jenkins</a></li><li><a href=https://solareenlo.com/docs/ci-cd/travis-ci/>Travis Ci</a></li></ul></li><li><input type=checkbox id=section-10dd021a58cb696b6cb4f79141ec5ddb class=toggle>
<label for=section-10dd021a58cb696b6cb4f79141ec5ddb class="flex justify-between"><a href=https://solareenlo.com/docs/container/>Conatainer</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/container/docker-compose/>Docker Compose</a></li><li><a href=https://solareenlo.com/docs/container/docker-hub/>Docker Hub</a></li><li><a href=https://solareenlo.com/docs/container/docker1/>Docker1</a></li><li><a href=https://solareenlo.com/docs/container/docker2/>Docker2</a></li><li><a href=https://solareenlo.com/docs/container/kubernetes/>Kubernetes</a></li></ul></li><li><input type=checkbox id=section-342a656e10fe011a820c22dda53f7866 class=toggle>
<label for=section-342a656e10fe011a820c22dda53f7866 class="flex justify-between"><a href=https://solareenlo.com/docs/crypto/>Crypto</a>
<span>▾</span></label><ul><li><a href=https://solareenlo.com/docs/crypto/blockchain/>Blockchain</a></li><li><a href=https://solareenlo.com/docs/crypto/crypto-docs/>Crypto Docs</a></li><li><a href=https://solareenlo.com/docs/crypto/ethereum/>Ethereum</a></li><li><a href=https://solareenlo.com/docs/crypto/substrate/>Substrate</a></li><li><a href=https://solareenlo.com/docs/crypto/white-paper/>White Paper</a></li><li><a href=https://solareenlo.com/docs/crypto/bitcoin/>Bitcoin</a></li><li><a href=https://solareenlo.com/docs/crypto/iota/>IOTA</a></li><li><a href=https://solareenlo.com/docs/crypto/nem/>NEM</a></li><li><a href=https://solareenlo.com/docs/crypto/bitcoin-fullnode/>フルノード</a></li></ul></li><li><a href=https://solareenlo.com/docs/tools/>Tools</a><ul></ul></li></ul><ul><li><a href=https://github.com/solareenlo/blog-hugo target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Git</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#gitとは>Gitとは</a><ul><li><a href=#gitの構成>gitの構成</a></li><li><a href=#git補完>git補完</a><ul><li><a href=#git-completionbashをインストール><code>git-completion.bash</code>をインストール</a></li><li><a href=#git-promptshのインストール><code>git-prompt.sh</code>のインストール</a></li></ul></li><li><a href=#branch>branch</a><ul><li><a href=#local-branchから新branch作成>local branchから新branch作成</a></li><li><a href=#リモートbranchから新branch作成>リモートbranchから新branch作成</a></li><li><a href=#branchの削除>branchの削除</a></li></ul></li><li><a href=#remote>remote</a><ul><li><a href=#remoteから特定のbranchを指定してcloneする>remoteから特定のbranchを指定してcloneする</a></li><li><a href=#remote-branch削除>remote branch削除</a></li></ul></li><li><a href=#commit>commit</a><ul><li><a href=#一時的に過去のcommitに戻る>一時的に過去のcommitに戻る</a></li></ul></li><li><a href=#submodule>submodule</a><ul><li><a href=#submoduleの追加>submoduleの追加</a></li><li><a href=#submoduleの削除>submoduleの削除</a></li><li><a href=#submoduleも一緒にclone>submoduleも一緒にclone</a></li><li><a href=#submoduleのcloneをし忘れたら>submoduleのcloneをし忘れたら</a></li><li><a href=#submoduleの更新>submoduleの更新</a></li></ul></li><li><a href=#fork>fork</a><ul><li><a href=#fork元の更新を取り込む>fork元の更新を取り込む</a></li></ul></li></ul></li><li><a href=#基本操作>基本操作</a><ul><li><a href=#gitの設定>gitの設定</a></li><li><a href=#commit-1>commit</a></li><li><a href=#log>log</a></li><li><a href=#現在の状態を把握する>現在の状態を把握する</a></li><li><a href=#差分を確認する>差分を確認する</a></li><li><a href=#gitでのファイル操作>gitでのファイル操作</a></li><li><a href=#gitの管理に含めない方法>gitの管理に含めない方法</a></li><li><a href=#直前のcommitを変更>直前のcommitを変更</a></li><li><a href=#過去のバージョンに戻る１>過去のバージョンに戻る（１）</a></li><li><a href=#過去のバージョンに戻る２>過去のバージョンに戻る（２）</a></li><li><a href=#branch-1>branch</a></li><li><a href=#branchをmerge>branchをmerge</a></li><li><a href=#mergeの衝突を解消>mergeの衝突を解消</a></li><li><a href=#tag>tag</a></li><li><a href=#エイリアス>エイリアス</a></li><li><a href=#初めての共同作業>初めての共同作業</a></li><li><a href=#共同作業でコンフリクトが起こったら>共同作業でコンフリクトが起こったら</a></li><li><a href=#git-rev-parse>git rev-parse</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=gitとは>Gitとは
<a class=anchor href=#git%e3%81%a8%e3%81%af>#</a></h1><ul><li>プログラムのソースコードなどの変更履歴を記録・追跡するための分散型バージョン管理システムのこと.</li><li><strong>公式サイト:</strong> <a href=https://git-scm.com>https://git-scm.com</a></li></ul><h2 id=gitの構成>gitの構成
<a class=anchor href=#git%e3%81%ae%e6%a7%8b%e6%88%90>#</a></h2><ul><li>作業ディレクトリ</li><li>ステージングエリア（インデックス）</li><li>リポジトリ（ローカル, リモート）</li></ul><h2 id=git補完>git補完
<a class=anchor href=#git%e8%a3%9c%e5%ae%8c>#</a></h2><p><strong>Reference:</strong>
<a href=https://qiita.com/varmil/items/9b0aeafa85975474e9b6>「Git補完をしらない」「git statusを1日100回は使う」そんなあなたに朗報【git-completionとgit-prompt】</a></p><h3 id=git-completionbashをインストール><code>git-completion.bash</code>をインストール
<a class=anchor href=#git-completionbash%e3%82%92%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab>#</a></h3><p><code>git-completion.bash</code>: gitコマンドの補完スクリプト.
Tabで保管できる.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-completion.bash -O ~/.git-completion.bash
chmod a+x ~/.git-completion.bash
<span style=color:#b58900>echo</span> <span style=color:#2aa198>&#34;source ~/.git-completion.bash&#34;</span> &gt;&gt; ~/.bashrc
<span style=color:#b58900>source</span> ~/.bashrc
</code></pre></div><h3 id=git-promptshのインストール><code>git-prompt.sh</code>のインストール
<a class=anchor href=#git-promptsh%e3%81%ae%e3%82%a4%e3%83%b3%e3%82%b9%e3%83%88%e3%83%bc%e3%83%ab>#</a></h3><p><code>git-prompt.sh</code>: プロンプトに各種追加情報を表示可能にするスクリプト.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>wget https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -O ~/.git-prompt.sh
chmod a+x ~/.git-prompt.sh
</code></pre></div><p>下記を一度にコピペしてエンターをして,</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat <span style=color:#2aa198>&lt;&lt; EOF | tee -a ~/.bashrc &gt; /dev/null
</span><span style=color:#2aa198>source ~/.git-prompt.sh
</span><span style=color:#2aa198>GIT_PS1_SHOWDIRTYSTATE=true
</span><span style=color:#2aa198>GIT_PS1_SHOWSTASHSTATE=true
</span><span style=color:#2aa198>GIT_PS1_SHOWUNTRACKEDFILES=true
</span><span style=color:#2aa198>GIT_PS1_SHOWUPSTREAM=&#34;auto&#34;
</span><span style=color:#2aa198>GIT_PS1_SHOWCOLORHINTS=true
</span><span style=color:#2aa198>EOF</span>
</code></pre></div><p>下記を実行する.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#b58900>source</span> ~/.bashrc
</code></pre></div><h2 id=branch>branch
<a class=anchor href=#branch>#</a></h2><h3 id=local-branchから新branch作成>local branchから新branch作成
<a class=anchor href=#local-branch%e3%81%8b%e3%82%89%e6%96%b0branch%e4%bd%9c%e6%88%90>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#b58900>cd</span> ディレクトリ <span style=color:#586e75># 作業ディレクトリに移動</span>
git branch -a <span style=color:#586e75># branchの一覧を表示</span>
git checkout master <span style=color:#586e75># master branchに切り替え</span>
git checkout -b 作成するbranch名 <span style=color:#586e75># masterを元にして新しいbranchを作成</span>
git branch -a
git push -u origin 作成したbranch名 <span style=color:#586e75># branchをremoteに登録</span>
</code></pre></div><h3 id=リモートbranchから新branch作成>リモートbranchから新branch作成
<a class=anchor href=#%e3%83%aa%e3%83%a2%e3%83%bc%e3%83%88branch%e3%81%8b%e3%82%89%e6%96%b0branch%e4%bd%9c%e6%88%90>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#b58900>cd</span> ディレクトリ
git checkout -b ローカルに作成するbranch名 origin/再生元のリモートbranch名
git branch -a
</code></pre></div><h3 id=branchの削除>branchの削除
<a class=anchor href=#branch%e3%81%ae%e5%89%8a%e9%99%a4>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#b58900>cd</span> 作業ティレクトり
git checkout -b master <span style=color:#586e75># 削除したいbranchとは違うbranchにまずは移動する</span>
git branch --delete 削除したいbranch名 <span style=color:#586e75># mergeしたbranchを削除</span>
git branch -D 削除したいbranch名 <span style=color:#586e75># mergeしたかどうかは問わずに削除</span>
</code></pre></div><h2 id=remote>remote
<a class=anchor href=#remote>#</a></h2><h3 id=remoteから特定のbranchを指定してcloneする>remoteから特定のbranchを指定してcloneする
<a class=anchor href=#remote%e3%81%8b%e3%82%89%e7%89%b9%e5%ae%9a%e3%81%aebranch%e3%82%92%e6%8c%87%e5%ae%9a%e3%81%97%e3%81%a6clone%e3%81%99%e3%82%8b>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone -b japanese git@github.com:solareenlo/documentation.git
</code></pre></div><h3 id=remote-branch削除>remote branch削除
<a class=anchor href=#remote-branch%e5%89%8a%e9%99%a4>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git push --delete origin &lt;branch name&gt;
<span style=color:#586e75># リモートブランチがローカルに残っている場合は以下も行う</span>
git fetch --prune
</code></pre></div><h2 id=commit>commit
<a class=anchor href=#commit>#</a></h2><h3 id=一時的に過去のcommitに戻る>一時的に過去のcommitに戻る
<a class=anchor href=#%e4%b8%80%e6%99%82%e7%9a%84%e3%81%ab%e9%81%8e%e5%8e%bb%e3%81%aecommit%e3%81%ab%e6%88%bb%e3%82%8b>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 戻りたいcommitのhash値を探す</span>
git log --oneline
<span style=color:#586e75># 過去に戻る</span>
git checkout &lt;commit hash&gt;
<span style=color:#586e75># 元に戻す</span>
git checkout -f master
</code></pre></div><p><strong>Reference:</strong>
<a href=https://tmytokai.github.io/open-ed/activity/git/text02/page09.html>9. 一時的に過去のコミットに戻る</a></p><h2 id=submodule>submodule
<a class=anchor href=#submodule>#</a></h2><h3 id=submoduleの追加>submoduleの追加
<a class=anchor href=#submodule%e3%81%ae%e8%bf%bd%e5%8a%a0>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git submodule add -b &lt;リンク付けする方のbranch名&gt; &lt;リンク付けする方のURL&gt; &lt;リンク付けされるディレクトリ名&gt;
<span style=color:#586e75># 例</span>
git submodule add -b master git@github.com:solareenlo/hugo-book.git themes/book
</code></pre></div><h3 id=submoduleの削除>submoduleの削除
<a class=anchor href=#submodule%e3%81%ae%e5%89%8a%e9%99%a4>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># コミットの参照を削除</span>
git submodule deinit themes/book
<span style=color:#586e75># .gitmodulesから削除</span>
git rm themes/book
</code></pre></div><h3 id=submoduleも一緒にclone>submoduleも一緒にclone
<a class=anchor href=#submodule%e3%82%82%e4%b8%80%e7%b7%92%e3%81%abclone>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone --recurse-submodules &lt;アドレス&gt;
</code></pre></div><h3 id=submoduleのcloneをし忘れたら>submoduleのcloneをし忘れたら
<a class=anchor href=#submodule%e3%81%aeclone%e3%82%92%e3%81%97%e5%bf%98%e3%82%8c%e3%81%9f%e3%82%89>#</a></h3><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git clone &lt;アドレス&gt;
<span style=color:#b58900>cd</span> &lt;ディレクトリ名&gt;
git submodule update --init --recursive
</code></pre></div><h3 id=submoduleの更新>submoduleの更新
<a class=anchor href=#submodule%e3%81%ae%e6%9b%b4%e6%96%b0>#</a></h3><ul><li>submodule側で更新して, pushする.</li><li>取り込む側でpullする.</li><li>取り込む側で<code>git submodule update</code>する.</li></ul><h2 id=fork>fork
<a class=anchor href=#fork>#</a></h2><h3 id=fork元の更新を取り込む>fork元の更新を取り込む
<a class=anchor href=#fork%e5%85%83%e3%81%ae%e6%9b%b4%e6%96%b0%e3%82%92%e5%8f%96%e3%82%8a%e8%be%bc%e3%82%80>#</a></h3><p>対象のリポジトリをforkして, ローカルにcloneしているものとする.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git remote add upstream git@github.com:alex-shpak/hugo-book.git
git fetch upstream
git checkout master
git merge --ff upstream/master
git push origin master
</code></pre></div><h1 id=基本操作>基本操作
<a class=anchor href=#%e5%9f%ba%e6%9c%ac%e6%93%8d%e4%bd%9c>#</a></h1><h2 id=gitの設定>gitの設定
<a class=anchor href=#git%e3%81%ae%e8%a8%ad%e5%ae%9a>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># ユーザー名を登録</span>
git config --global user.name <span style=color:#2aa198>&#34;solareenlo&#34;</span>
<span style=color:#586e75># メールアドレスを登録</span>
git config --global user.email <span style=color:#2aa198>&#34;solareenlo@test.com&#34;</span>
<span style=color:#586e75># 色づける</span>
git config --global color.ui <span style=color:#b58900>true</span>
<span style=color:#586e75># commitしたときのエディタをvimに設定する</span>
git config --global core.editor vim
<span style=color:#586e75># 設定一覧を見る</span>
git config -l
<span style=color:#586e75># helpを見る</span>
git config --help
<span style=color:#586e75># 大文字・小文字を区別する</span>
git config --global core.ignorecase <span style=color:#b58900>false</span>
git config --system core.ignorecase <span style=color:#b58900>false</span>
</code></pre></div><h2 id=commit-1>commit
<a class=anchor href=#commit-1>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># gitの初期化</span>
git init
<span style=color:#586e75># 作業ディレクトリからステージングエリアへ</span>
git add index.html
<span style=color:#586e75># ステージングエリアからリポジトリへ</span>
git commit
<span style=color:#586e75># 変更のlogを見る</span>
git log
</code></pre></div><h2 id=log>log
<a class=anchor href=#log>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># logをコンパクトに見る</span>
git log --oneline
<span style=color:#586e75># logと共に変更内容も見る</span>
git log -p
<span style=color:#586e75># どのファイルが変更なったかを見る</span>
git log --stat
</code></pre></div><h2 id=現在の状態を把握する>現在の状態を把握する
<a class=anchor href=#%e7%8f%be%e5%9c%a8%e3%81%ae%e7%8a%b6%e6%85%8b%e3%82%92%e6%8a%8a%e6%8f%a1%e3%81%99%e3%82%8b>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 現在の状態を見る</span>
git status
<span style=color:#586e75># ファイルの変更を無かったことにする</span>
git checkout -- index.html
</code></pre></div><h2 id=差分を確認する>差分を確認する
<a class=anchor href=#%e5%b7%ae%e5%88%86%e3%82%92%e7%a2%ba%e8%aa%8d%e3%81%99%e3%82%8b>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># ファイルの差分を見る</span>
git diff
<span style=color:#586e75># ステージングされたファイルの差分を見る</span>
git diff --cached
</code></pre></div><h2 id=gitでのファイル操作>gitでのファイル操作
<a class=anchor href=#git%e3%81%a7%e3%81%ae%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e6%93%8d%e4%bd%9c>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 現在のディレクトリ以下全部のファイルをaddする</span>
git add .
<span style=color:#586e75># gitでのファイル削除</span>
git rm index.html
<span style=color:#586e75># gitでのファイル移動</span>
git mv index.html
</code></pre></div><h2 id=gitの管理に含めない方法>gitの管理に含めない方法
<a class=anchor href=#git%e3%81%ae%e7%ae%a1%e7%90%86%e3%81%ab%e5%90%ab%e3%82%81%e3%81%aa%e3%81%84%e6%96%b9%e6%b3%95>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># .gitignoreファイルを作り, その中にgitに含めないファイルを記述する</span>
vim .gitignore
*.log

<span style=color:#586e75># .gitignoreがある場所から遡ってはignoreされない.</span>
<span style=color:#586e75># ので, サブディレクトリだけ.gitignoreしたい場合は, サブディレクトリ内に.gitignoreを入れておく.</span>
</code></pre></div><h2 id=直前のcommitを変更>直前のcommitを変更
<a class=anchor href=#%e7%9b%b4%e5%89%8d%e3%81%aecommit%e3%82%92%e5%a4%89%e6%9b%b4>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 1つcommitする</span>
git commit -m <span style=color:#2aa198>&#39;コミットを1つ追加&#39;</span>
<span style=color:#586e75># 直前のcommitを上書きする</span>
vim index.html
git add .
git commit --amend
</code></pre></div><h2 id=過去のバージョンに戻る１>過去のバージョンに戻る（１）
<a class=anchor href=#%e9%81%8e%e5%8e%bb%e3%81%ae%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e3%81%ab%e6%88%bb%e3%82%8b%ef%bc%91>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 作業ディレクトリもステージングエリアも直前のcommitへ戻す</span>
git reset --hard HEAD
<span style=color:#586e75># 2つ前のcommitに戻る</span>
git reset --hard HEAD^
<span style=color:#586e75># 指定したidにcommitを戻す</span>
git reset --hard hash値<span style=color:#719e07>(</span>最低7桁<span style=color:#719e07>)</span>
</code></pre></div><h2 id=過去のバージョンに戻る２>過去のバージョンに戻る（２）
<a class=anchor href=#%e9%81%8e%e5%8e%bb%e3%81%ae%e3%83%90%e3%83%bc%e3%82%b8%e3%83%a7%e3%83%b3%e3%81%ab%e6%88%bb%e3%82%8b%ef%bc%92>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># commit変更したけど, やっぱり変更前のcommitに戻りたいときは</span>
git reset --hard ORIG_HEAD
<span style=color:#586e75># ORIG_HEADには前回取り消されたHEADの情報が1つだけ入っている.</span>
</code></pre></div><h2 id=branch-1>branch
<a class=anchor href=#branch-1>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 現在のbranchを確認する</span>
git branch
<span style=color:#586e75># 新しいbranch hogeを作成する</span>
git branch hoge
<span style=color:#586e75># hoge branchに移動する</span>
git checkout hoge
git branch
<span style=color:#586e75># master branchに戻る</span>
git checkout master
git branch
</code></pre></div><h2 id=branchをmerge>branchをmerge
<a class=anchor href=#branch%e3%82%92merge>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># master branchにhoge branchをmergeさせたい</span>
git checkout master
git merge hoge
<span style=color:#586e75># いらなくなったhoge branchを削除する</span>
git branch -d hoge
<span style=color:#586e75># masterにmerge済みのbranchを確認する</span>
git checkout master
git branch --merged
<span style=color:#586e75># masterにまだmergeしていないbranchを確認する</span>
git checkout master
git branch --no-merged
<span style=color:#586e75># 作業途中でmergeしたときに, まだcommitしたくないときは, stashを使って一時的に変更内容を退避させる.</span>
git stash save <span style=color:#2aa198>&#39;コメント&#39;</span>
<span style=color:#586e75># stashで退避させた情報の一覧表示</span>
git stash list

<span style=color:#586e75># 退避させるたびに, この一覧の上に退避データが積み上がっていく.</span>
<span style=color:#586e75># 対比した内容を取り出すには</span>
git stash pop
<span style=color:#586e75># 引数をつけない場合, listで表示された一番上の内容が取り出される.</span>
</code></pre></div><h2 id=mergeの衝突を解消>mergeの衝突を解消
<a class=anchor href=#merge%e3%81%ae%e8%a1%9d%e7%aa%81%e3%82%92%e8%a7%a3%e6%b6%88>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># branch切って, すぐにhogeに移動する</span>
git checkout -b hoge
vim index.html
git add .
git commit -m <span style=color:#2aa198>&#39;hogeで変更したよ&#39;</span>
git branch master
vim index.html
git add .
git commit -m <span style=color:#2aa198>&#39;masterでも変更したよ&#39;</span>
git merge hoge
&gt; CONFLICT <span style=color:#719e07>(</span>content<span style=color:#719e07>)</span>: merge conflict in index.html
vim index.html
<span style=color:#586e75># index.htmlのいらないところを削除するだけ</span>
<span style=color:#586e75># hogeかmasterのどちらかの変更を残すということ.</span>
git add .
git comit -m <span style=color:#2aa198>&#39;conflictを解消したよ&#39;</span>
</code></pre></div><h2 id=tag>tag
<a class=anchor href=#tag>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 直前のcommitにidに代わるわかりやすいv1.0というtagを付ける</span>
git tag v1.0
<span style=color:#586e75># tagを確認する</span>
git tag
<span style=color:#586e75># tagを使ってcommit内容を確認する</span>
git show v1.0
<span style=color:#586e75># 特定のcommitにtagを付ける</span>
git tag v0.9 id<span style=color:#719e07>(</span>hash値<span style=color:#719e07>)</span>
<span style=color:#586e75># tagの削除</span>
git -d v0.9
</code></pre></div><h2 id=エイリアス>エイリアス
<a class=anchor href=#%e3%82%a8%e3%82%a4%e3%83%aa%e3%82%a2%e3%82%b9>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git config --global alias.co checkout
git config --global alias.st status
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.cm <span style=color:#2aa198>&#39;commit -m&#39;</span>
git config --global alias.a <span style=color:#2aa198>&#39;add .&#39;</span>
<span style=color:#586e75># エイリアスの確認</span>
git config --global --list | grep ^alias<span style=color:#cb4b16>\.</span>
<span style=color:#586e75># 設定一覧</span>
git config -l
</code></pre></div><h2 id=初めての共同作業>初めての共同作業
<a class=anchor href=#%e5%88%9d%e3%82%81%e3%81%a6%e3%81%ae%e5%85%b1%e5%90%8c%e4%bd%9c%e6%a5%ad>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># 共有リポジトリを作成</span>
<span style=color:#586e75># 共有リポジトリには.gitを付けるのが通例</span>
mkdir ourweb.git
<span style=color:#b58900>cd</span> ourweb.git
git init --bare
<span style=color:#586e75># これで管理ファイルだけが管理され, commitとかはしない設定になる.</span>

<span style=color:#586e75># 別のリポジトリを現在のリポジトリにoriginとして登録する</span>
git remote add origin ~/path/to/ourweb.git
git config -l
&gt; remote.origin.url<span style=color:#719e07>=</span>/home/path/to/ourweb.git

<span style=color:#586e75># 登録した別のリポジトリ(origin)を削除する</span>
git remote rm origin

<span style=color:#586e75># 現在のリポジトリ(master)の内容をremoteしたディレクトリ(origin)にpushする</span>
git push origin master
<span style=color:#586e75># originにmasterをpushする.という意味.</span>

<span style=color:#586e75># ourweb.gitをmyweb2としてcloneして作業する</span>
git clone ~/path/to/ourweb.git myweb2
<span style=color:#b58900>cd</span> myweb2
git log
vim index.html
git add .
git commit -m <span style=color:#2aa198>&#39;line2 added&#39;</span>
git push origin master
<span style=color:#586e75># 変更内容(master)をoriginにpushした</span>

<span style=color:#586e75># 別のユーザーが上記の変更をpullする</span>
git pull origin master
git log
</code></pre></div><h2 id=共同作業でコンフリクトが起こったら>共同作業でコンフリクトが起こったら
<a class=anchor href=#%e5%85%b1%e5%90%8c%e4%bd%9c%e6%a5%ad%e3%81%a7%e3%82%b3%e3%83%b3%e3%83%95%e3%83%aa%e3%82%af%e3%83%88%e3%81%8c%e8%b5%b7%e3%81%93%e3%81%a3%e3%81%9f%e3%82%89>#</a></h2><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#586e75># Aさんが先に変更を加えた</span>
vim index.html
git commit -am <span style=color:#2aa198>&#39;line 3 added&#39;</span>
git push origin master

<span style=color:#586e75># Bさんも後から同様の場所に変更を加えた</span>
vim index.html
git commit -am <span style=color:#2aa198>&#39;line third added&#39;</span>
git push origin master
&gt; CONFLICT <span style=color:#719e07>(</span>content<span style=color:#719e07>)</span>: Merge conflict in index.html
<span style=color:#586e75># pushする前にpullしてまずはconflictを解消する</span>
git pull origin master
vim index.html
git commit -am <span style=color:#2aa198>&#39;conflict fixed&#39;</span>
git push origin master
</code></pre></div><h2 id=git-rev-parse>git rev-parse
<a class=anchor href=#git-rev-parse>#</a></h2><p>機能がたくさんあるが, ここではHEADのダイジェスト返してくれる方法.</p><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git rev-parse HEAD
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/solareenlo/blog-hugo/commit/bea798d93c9116bad5b5ceb26ca3159b372095e9 title="Last modified by solareenlo | Mar 20, 2020" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>Mar 20, 2020</span></a></div><div><a class="flex align-center" href=https://github.com/solareenlo/blog-hugo/edit/master/content//docs/programming/git.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#gitとは>Gitとは</a><ul><li><a href=#gitの構成>gitの構成</a></li><li><a href=#git補完>git補完</a><ul><li><a href=#git-completionbashをインストール><code>git-completion.bash</code>をインストール</a></li><li><a href=#git-promptshのインストール><code>git-prompt.sh</code>のインストール</a></li></ul></li><li><a href=#branch>branch</a><ul><li><a href=#local-branchから新branch作成>local branchから新branch作成</a></li><li><a href=#リモートbranchから新branch作成>リモートbranchから新branch作成</a></li><li><a href=#branchの削除>branchの削除</a></li></ul></li><li><a href=#remote>remote</a><ul><li><a href=#remoteから特定のbranchを指定してcloneする>remoteから特定のbranchを指定してcloneする</a></li><li><a href=#remote-branch削除>remote branch削除</a></li></ul></li><li><a href=#commit>commit</a><ul><li><a href=#一時的に過去のcommitに戻る>一時的に過去のcommitに戻る</a></li></ul></li><li><a href=#submodule>submodule</a><ul><li><a href=#submoduleの追加>submoduleの追加</a></li><li><a href=#submoduleの削除>submoduleの削除</a></li><li><a href=#submoduleも一緒にclone>submoduleも一緒にclone</a></li><li><a href=#submoduleのcloneをし忘れたら>submoduleのcloneをし忘れたら</a></li><li><a href=#submoduleの更新>submoduleの更新</a></li></ul></li><li><a href=#fork>fork</a><ul><li><a href=#fork元の更新を取り込む>fork元の更新を取り込む</a></li></ul></li></ul></li><li><a href=#基本操作>基本操作</a><ul><li><a href=#gitの設定>gitの設定</a></li><li><a href=#commit-1>commit</a></li><li><a href=#log>log</a></li><li><a href=#現在の状態を把握する>現在の状態を把握する</a></li><li><a href=#差分を確認する>差分を確認する</a></li><li><a href=#gitでのファイル操作>gitでのファイル操作</a></li><li><a href=#gitの管理に含めない方法>gitの管理に含めない方法</a></li><li><a href=#直前のcommitを変更>直前のcommitを変更</a></li><li><a href=#過去のバージョンに戻る１>過去のバージョンに戻る（１）</a></li><li><a href=#過去のバージョンに戻る２>過去のバージョンに戻る（２）</a></li><li><a href=#branch-1>branch</a></li><li><a href=#branchをmerge>branchをmerge</a></li><li><a href=#mergeの衝突を解消>mergeの衝突を解消</a></li><li><a href=#tag>tag</a></li><li><a href=#エイリアス>エイリアス</a></li><li><a href=#初めての共同作業>初めての共同作業</a></li><li><a href=#共同作業でコンフリクトが起こったら>共同作業でコンフリクトが起こったら</a></li><li><a href=#git-rev-parse>git rev-parse</a></li></ul></li></ul></nav></aside></main></body></html>